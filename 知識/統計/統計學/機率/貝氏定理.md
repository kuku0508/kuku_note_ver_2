貝式定理(Bayes' theorem)，用來描述在已知一些條件下，某事件的發生機率。通常，在A事件發生的情況下發生B事件的機率，跟在B事件發生的強況下發生A事件的機率會有所不同，但是兩者其實是有數學上的關係的，貝式定理就是來描述兩者關係的。
而貝式定理在各個情況下的機率都是可以適用的。
- - -
### 公式：
其實只要你還記得[[條件機率]]跟[[乘法原則]]，就可以從條件機率延伸：
$$
P(A \mid B)=\frac{P(A\bigcap B)}{P(B)}=\frac{P(B \mid A)P(A)}{P(B)}
$$
又因為我們可以透過[[全機率定理]]，將$P(B)$寫成以下形式：
$$
\begin{align}
P&(B)\\
=&P(A \bigcap B)+P(A^c\bigcap B)\\
=&P(B \mid A)\times P(A)\,+P(B \mid A^c)\times P(A^c)
\end{align}
$$
所以我們可以將貝式定理進一步的寫成：
$$
P(A\mid B)=\frac{P(B \mid A)P(A)}{P(B \mid A)\times P(A)\,+P(B \mid A^c)\times P(A^c)}
$$
- - -
### 範例：
設一個盒子中有100個電子零件，其中50個為A機器所生產，30個為B機器所生產，20個為C機器所生產；已知A機器所生產之零件中有3個為不良品，B機器所生產之零件中有2個為不良品，C機器所生產之零件中有1個為不良品。今天從這個盒子中隨機抽出一個電子零件，若已知被抽出的電子零件是A機器所生產，是問他是不良品的機率為多少？

##### A：
由題目可知，$P(A)=\frac{50}{100}$、$P(B)=\frac{30}{100}$、$P(C)=\frac{20}{100}$、$P(A \bigcap 不良)=\frac{3}{50}$、$P(B \bigcap 不良)=\frac{2}{30}$、$P(C \bigcap 不良)=\frac{1}{20}$。
而題目問的是：$P(不良\mid A)=?$
$$
P(不良 \mid A)=\frac{P(A \bigcap 不良)}{P(A)}=\frac{\frac{3}{50}}{\frac{50}{100}}
$$


再來已知$P(A)=0.5，P(B)=0.3，P(C)=0.2$，而新訊息所得之條件機率分別為$P(不良\mid A)=\frac{3}{25}、P(不良\mid B)=\frac{1}{15}、P(不良\mid C)=\frac{1}{20}$，若已知所抽出之電子零件經檢驗後，確定是不良品，試求他是由
(1)A機器
(2)B機器
(3)C機器
所生產之機率各為何？

1. 我們要求的是$P(A\mid 不良)$，所以根據我們有的條件，我們有$P(不良\mid A)=\frac{3}{25}$、$P(A)=\frac{50}{100}$，
我們基本上也有$P(不良)$也就是$P(不良)=P(不良\mid A)+P(不良\mid B)+P(不良\mid C)=\frac{3}{25}+\frac{1}{15}+\frac{1}{20}=\frac{71}{300}$
因為不良品就只會從ABC三種機器出來，然後機器之間產生不良品這間事情，基本上是獨立事件，你可以想像A機器做出爛東西基本上跟B機器沒有屁毛關係。
所以我們就可以求出：
$$
P(A\mid 不良)=\frac{P(不良\mid A)P(A)}{P(不良)}=\frac{\frac{3}{25}\times 0.5}{\frac{71}{300}}\approx0.2535
$$
2. 跟上面一樣：
$$
P(B\mid 不良)=\frac{P(不良\mid B)P(B)}{P(不良)}=\frac{\frac{1}{15}\times 0.3}{\frac{71}{300}}\approx0.084
$$
3. 
$$
P(C\mid 不良)=\frac{P(不良\mid C)P(C)}{P(不良)}=\frac{\frac{1}{20}\times 0.2}{\frac{71}{300}}\approx0.0422
$$