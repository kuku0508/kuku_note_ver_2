One-sample runs test（單一樣本連檢定），又被稱為Wald-Wolfowitz test。
有許多的統計模型都假設樣本需要呈現隨機性，而我們可以透過Wald-Wolfowitz test，來檢視其母體是否具有隨機性。
- - -
# 歷史：
亞伯拉罕 · 瓦爾德（Abraham Wald）是一位匈牙利數學家以及統計學家，對於One-sample runs test的發展做出了貢獻。
![[Abraham Wald.png]]
Abraham Wald

你可能之前有聽過一個故事，二戰期間戰鬥飛回來的飛機，被子彈擊中的位置多數在機翼以及機尾。駕駛艙、油箱、發動機的彈孔沒有很多。
在討論要幫飛機裝上厚鋼板的時候，分成了兩派，一派是英國皇家空軍，認為厚鋼板應該要裝在機翼與機尾上，畢竟這兩個地方的面積最大，中彈的機率也最高。
但以Abraham Wald為一派的人卻認為，應該要將厚鋼板樁在飛機的駕駛座艙與發動機的位置，因為那裡的彈孔最少。Wald的推論聽起來很反直覺，但是那是因為這些部位被擊中的飛機，多數已經無法返航，早就墜毀。
![[二戰飛機 Abraham Wald.png]]

- - -
# 基本假設：
- 數據由一系列的觀察值組成，每個觀察值可以分類為兩種互斥的類別。
- - -
# 統計檢定量：
- runs（連）的總數，R。
來解釋一下什麼是連（runs）好了，不然要看的一頭霧水了。
在我們的基本假設裡面，我們的數據只有兩種類別，且這兩種類別為互斥。
當今天有一種類別由一至複數個相連，直到出現另外一類別，我們就稱其為一個連。
用文字不太好表達，我用範例的方式來表示給你看。
$$
\underbrace{男、男、男}_{run1}、\underbrace{女、女、女}_{run2}、\underbrace{男}_{run3}、\underbrace{女、女}_{run4}
$$
大概就是這樣，只要是互斥的數據都可以得到她的runs，不僅限於類別型的資料。
- - -
# 虛無假設＆決策方式：
$$H_0\text{：感興趣的模式是隨機的}\quad v.s \quad H_1\text{：感興趣的模式是不隨機的}$$

One-sample runs test 的決策方式，如果是用手算的話，比較不看p-value，而是看他的runs數量有沒有超過下界以及上界。上下界的決定方式取決於，兩類別的樣本數$n_1$＆$n_2$，來決定。

若我們的runs的數量大於等於上界值，或runs的數量小於等於下界值，則我們拒絕虛無假設$H_0$
![[Runs test Lower and Upper Table.png]]
你可以看到這邊就是其對應的表。
- - -
# 應用：
假設今天蛋糕店裡面的來客為
$$
\begin{array}{ccccccc}
\hline
熟客&新客&熟客&熟客&新客&新客&熟客&新客&熟客&熟客&新客
\end{array}
$$
我們希望知道這些來蛋糕店的客人是否具隨機性：
我們使用one-sample runs test來檢驗。
- 基礎假設：
我們感興趣的變數，分為了熟客以及新客這兩種互斥的類別。
- 定義：
令$n_1$以及$n_2$分別為，新客的樣本數以及熟客的樣本數；$r$為runs的個數。
$$
\underbrace{\熟客}_{}
$$
parent::[[無母數統計目錄]],[[無母數統計]],[[假設檢定]]