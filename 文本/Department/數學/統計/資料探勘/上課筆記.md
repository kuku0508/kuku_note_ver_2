```R
# 下載檔案
download <- read.csv(
  "C:/Users/AA/Downloads/data mining/download.csv",
  header = TRUE,
  fileEncoding = "BIG5"
)

# 創造原始資料資料夾
dir.create("C:/Users/AA/Downloads/data mining/raw_data")

for (i in seq_len(nrow(download))){
  url <-download$fileURL[i]
  info <- gsub("/","-",download$fileinfo[i])
  name <- paste0(info,".zip")
  
  dest <-file.path("C:/Users/AA/Downloads/data mining/raw_data",name)
  download.file(url,destfile = dest,mode = "wb")
}


youbike <- read.csv(
  "C:/Users/AA/Downloads/data mining/raw_data/202301_YouBike2.0票證刷卡資料.csv",
  header = TRUE,
  col.names = c("借車時間", "借車場站", "還車時間", "還車場站", "借用時長", "車種", "借用日期")
```


install.packages("data.table")
library(data.table)

path_csv <-"C:/Users/AA/Downloads/data mining/raw_data"

files <- list.files(path_csv,pattern = "\\.csv$",full.names = TRUE)
length(files)
files

raw_list <- lapply(files, function(f) {
  fread(
    f,
    header = TRUE,   # 如果檔案裡沒有欄位名稱，就改 FALSE
    encoding = "UTF-8"   # 如果是 BIG5 就改 encoding = "UTF-8" 拿掉，改 fileEncoding 用 read.csv 方式
  )
})
# 合併成一個大 data.table
raw_data <- rbindlist(raw_list, use.names = TRUE, fill = TRUE)

# 確認列數
nrow(raw_data)

```
