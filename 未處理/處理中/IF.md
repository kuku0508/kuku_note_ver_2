---
參考資料: 
屬於環節:
  - "[[datastep]]"
---
IF，是一種[[SAS敘述句]]，我們可以透過這個敘述句來找到資料集中符合條件的觀測值，甚至可以進而執行其他敘述句。
- - -
# 基本語法
#### 單純篩選觀測值
```SAS
IF 條件;
```
這個敘述句主要可以做的事情是，他會在資料集中找到符合條件的觀測值。
要注意的是，不符合條件的觀測值會直接被刪除，不會出現在輸出的資料集中。
#### 條件篩選+執行敘述句
```SAS
IF 條件 THEN 敘述句
```
這個敘述句跟上面的差別在於，在資料集中找到了符合條件的觀測值後，我們可以對這個觀測值做指定的敘述句。

倘若條件不成立，則會跳過該敘述句（但該觀測值不會被刪掉）
#### 多條件篩選+執行敘述句
```SAS
IF 條件1 THEN 敘述句
	ELSE IF 條件2 THEN 敘述句
	ELSE 敘述句
```
如果我們今天遇到了有兩個以上的條件需要判斷的時候，我們就可以使用IF...THEN...ELSE
倘若條件1不符合，則會去確認是否為條件2。倘若兩個條件都不符合，則會直接執行最後一個敘述句。

如果還有更多條件，則是增加更多ELSE IF。
- - -
# 備註
如果今天同時需要看兩個條件，例如同時符合條件一"或"條件二、又或是同時符合條件一"以及"條件二，那我們可以使用「運算子」。
#### 多條件同時成立
當我們今天規定需要多條件"同時"成立的話，那我們可以在條件之間使用`AND`/`&`來達成這件事：
```SAS
IF 條件1 AND/& 條件2 (THEN 敘述句)
```
雖然我們使用的是`IF......THEN`，但`IF......THEN......ELSE`也可以成立。
#### 任一以上條件成立
當我們今天規定只要其中一個以上的條件成立，那我們可以在條件之間使用`OR`/`|`來達成這件事：
```SAS
IF 條件1 OR/| 條件2 (THEN 敘述句)
```
#### 反轉條件的真偽
當我們今天想要讓條件變成跟這個條件互斥，那我們可以在條件前加上`NOT`/`^`來達成這件事：
```SAS
IF NOT/^(條件1) (THEN)
```
以上的這些運算子可以一起搭配使用。
- - -
# 範例
今天我們有一個資料集，專門紀錄學生的國文成績，資料集長這樣：

| 觀測值 | 學號(id)    | 姓名(name) | 性別(sex) | 平時成績(score1) | 期中成績(score2) | 期末成績<br>(score3) |
| --- | --------- | -------- | ------- | ------------ | ------------ | ---------------- |
| 1   | 123456789 | Ameria   | F       | 100          | 96           | 95               |
| 2   | 123456790 | Gura     | F       | 70           | 66           | 79               |
| 3   | 123456791 | Kuku     | M       | 80           | 92           | 90               |
| 4   | 123456792 | Ina      | F       | 100          | 95           | 96               |
| 5   | 123456793 | Calli    | F       | 80           | 83           | 79               |
| 6   | 123456794 | Jarry    | M       | 10           | 0            | 5                |
倘若我們今天要找男生裡面平時成績有60分以上的，那我們就可以用以下的程式碼：
```SAS
data
IF sex="M" & score1>=60; 
```


- - -
parent::[[SAS敘述句]]
sibling::
child::