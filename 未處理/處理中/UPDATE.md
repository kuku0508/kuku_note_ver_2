---
參考資料: 
屬於環節:
  - "[[datastep]]"
---
UPDATE，是一種[[SAS敘述句]]，主要用來更新原本就存在的資料集的資料。
- - -
# 基本語法
```SAS
UPDATE 要更新的資料集名稱 更新資料集;
BY 變數名稱;
```
#### 更新資料集
這邊指的更新資料集是提供新值或補值的資料集。通常會跟要更新的資料集名稱變數一樣，或大多相同。而UPDATE會根據以下的規則來替換原本的值。

- 如果 master 缺值、而 transaction 有值 → 會補上。
- 如果 master 有舊值、transaction 有新值 → 會覆蓋。
- 如果 transaction 缺值 → master 的原始值會被保留。

#### BY
是讓SAS對應舊觀測值以及新觀測值的變數。要更新的資料集跟更新資料集都需要有這個變數的值。
- - -
# 備註
- 更新資料集以及要更新的資料集都需要先以BY指定的變數來進行排序。
- - -
# 範例

| 觀測值 | id        | name   | sex | score1 | score2 | score3 | average |
| --- | --------- | ------ | --- | ------ | ------ | ------ | ------- |
| 1   | 123456789 | Ameria | F   | 100    | 96     | 95     | 97.00   |
| 2   | 123456790 | Gura   | F   | 70     | 66     | 79     | 71.67   |
| 3   | 123456791 | Kuku   | M   | 80     | 92     | 90     | 87.33   |
| 4   | 123456792 | Ina    | F   | 100    | 95     | 96     | 97.00   |
| 5   | 123456793 | Calli  | F   | 80     | 83     | 79     | 80.67   |
| 6   | 123456794 | Jarry  | M   | 10     | 0      | 5      | 5.00    |
這邊有一個資料集score記錄了班級同學的名稱，而如果我們要更新資料集score，更新內容如下：
- 123456789的score2應該為100分
- 123456794的名字應為「」
- - -
parent::[[SAS敘述句]]
sibling::
child::